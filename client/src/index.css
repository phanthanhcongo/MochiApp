@import "tailwindcss";

@layer base {
  html, body {
    margin: 0;
    padding: 0;
    /* Giúp tính toán kích thước chuẩn hơn */
    box-sizing: border-box;
    /* Ẩn thanh address bar trên iPhone */
    height: 100%;
    height: -webkit-fill-available;
  }
  
  /* Ẩn thanh address bar trên Safari iPhone */
  @supports (-webkit-touch-callout: none) {
    html {
      height: -webkit-fill-available;
    }
    body {
      min-height: 100vh;
      min-height: -webkit-fill-available;
    }
  }
  
  /* Fullscreen support for mobile */
  html:fullscreen,
  html:-webkit-full-screen,
  html:-moz-full-screen,
  html:-ms-fullscreen {
    width: 100%;
    height: 100%;
  }
  
  /* Safe area insets for iPhone */
  @supports (padding: max(0px)) {
    body {
      padding-left: env(safe-area-inset-left);
      padding-right: env(safe-area-inset-right);
      padding-top: 0;
      padding-bottom: env(safe-area-inset-bottom);
    }
  }
  
  /* Fix height cứng cho iPhone 12 Pro Max - trừ status bar */
  /* iPhone 12 Pro Max: 428 x 926px, status bar ~47px */
  @media only screen 
    and (device-width: 428px) 
    and (device-height: 926px) 
    and (-webkit-device-pixel-ratio: 3) {
    html {
      height: calc(100vh - env(safe-area-inset-top));
      max-height: calc(100vh - env(safe-area-inset-top));
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }
    
    body {
      height: calc(100vh - env(safe-area-inset-top));
      max-height: calc(100vh - env(safe-area-inset-top));
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      /* Trừ đi status bar height */
      padding-top: 0;
    }
    
    #root {
      height: calc(100vh - env(safe-area-inset-top));
      max-height: calc(100vh - env(safe-area-inset-top));
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }
    
    /* Height cố định cho màn home trên iPhone 12 Pro Max */
    .practice-page-container {
      height: calc(100vh - env(safe-area-inset-top)) !important;
      max-height: calc(100vh - env(safe-area-inset-top)) !important;
      min-height: calc(100vh - env(safe-area-inset-top)) !important;
    }
  }
  
  /* Fallback cho các iPhone khác với notch */
  @supports (height: 100dvh) {
    @media only screen and (max-width: 428px) {
      html {
        height: calc(100dvh - env(safe-area-inset-top));
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
      }
      body {
        height: calc(100dvh - env(safe-area-inset-top));
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
      }
      #root {
        height: calc(100dvh - env(safe-area-inset-top));
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
      }
    }
  }
  
  /* Override min-h-screen cho iPhone 12 Pro Max */
  @media only screen 
    and (device-width: 428px) 
    and (device-height: 926px) 
    and (-webkit-device-pixel-ratio: 3) {
    .min-h-screen {
      min-height: calc(100vh - env(safe-area-inset-top)) !important;
      height: calc(100vh - env(safe-area-inset-top)) !important;
      max-height: calc(100vh - env(safe-area-inset-top)) !important;
    }
  }
}
.falseAnswer {
  @apply bg-red-500 text-stone-50;
}
.correctAnswer {
  @apply bg-green-600 text-stone-50;
}
.progress-container {
  @apply relative h-6 bg-orange-100 overflow-hidden mb-6 rounded-lg;
}

.progress-fill {
  @apply bg-orange-400 h-full transition-all ;
}
.progress-label {
  @apply absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-xl text-gray-700 font-medium;
}
.btn-primary {
  @apply font-semibold rounded-full transition;
}
.btn-primary--active {
  @apply bg-slate-50 text-stone-950 w-full sm:w-72 md:w-80 h-12 sm:h-13 hover:bg-stone-950 hover:text-slate-50 transition-colors duration-200 text-lg sm:text-xl md:text-2xl;
}

.btn-primary--disabled {
  @apply bg-gray-200 text-gray-500 cursor-not-allowed text-lg sm:text-xl md:text-2xl font-semibold h-12 sm:h-14 md:h-16;
}
.btn-forget {
  @apply text-sm text-gray-500 hover:text-gray-700 underline;
}
.answer-option {
  @apply w-[90%] sm:w-[75%] md:w-[65%] min-h-[56px] sm:min-h-[64px] md:min-h-[72px] px-3 sm:px-4 md:px-6 py-2.5 sm:py-3 md:py-4 rounded-xl sm:rounded-2xl border-2 transition-all duration-200 mx-auto mb-3 sm:mb-4 flex items-center shadow-sm cursor-pointer relative;
}

.answer-option--default {
  @apply bg-white border-gray-200 hover:border-blue-400 hover:bg-blue-50/30 border-b-6;
}

.answer-option--selected {
  @apply border-blue-500 bg-blue-50 border-b-6;
}

.answer-option--correct {
  @apply bg-green-500 text-white border-green-600 border-b-6;
}

.answer-option--wrong {
  @apply bg-red-500 text-white border-red-600 border-b-6;
}

.answer-option span.option-index {
  @apply flex-shrink-0 flex items-center justify-center h-8 w-8 sm:h-9 sm:w-9 md:h-10 md:w-10 border-2 rounded-lg sm:rounded-xl text-sm sm:text-base md:text-lg font-bold transition-colors;
}

.answer-option--default span.option-index {
  @apply border-gray-200 text-gray-400 group-hover:border-blue-300 group-hover:text-blue-500;
}

.answer-option--selected span.option-index {
  @apply border-blue-400 text-blue-600;
}

.answer-option--correct span.option-index {
  @apply border-green-400 text-white;
}

.answer-option--wrong span.option-index {
  @apply border-red-400 text-white;
}
.result-panel_true {
  @apply bg-green-600 text-stone-50 p-4 rounded-t-lg mx-auto absolute bottom-0 left-0 right-0 transition-transform duration-300 ease-in-out;
}
.panel-collapsed_true {
  @apply relative w-full bg-green-600 min-h-[100px] flex items-center justify-center;
}
.result-panel_false {
  @apply bg-red-400 text-stone-50 p-4 rounded-t-lg mx-auto absolute bottom-0 left-0 right-0 transition-transform duration-300 ease-in-out;
}

/* Tăng padding-bottom cho iPhone 12 */
@media only screen 
  and (device-width: 390px) 
  and (device-height: 844px) 
  and (-webkit-device-pixel-ratio: 2) {
  .result-panel_true,
  .result-panel_false {
    padding-bottom: calc(1rem + env(safe-area-inset-bottom) + 1.5rem) !important;
  }
  
  /* Điều chỉnh nút thu gọn cho iPhone 12 */
  .displayBtn {
    right: 1rem !important;
    bottom: calc(24rem + env(safe-area-inset-bottom)) !important;
    z-index: 10;
  }
  
  .displayBtnEnglish {
    right: 1rem !important;
    bottom: calc(22rem + env(safe-area-inset-bottom)) !important;
    z-index: 10;
  }
  
  .hiddenBtn {
    right: 1rem !important;
    bottom: calc(8.5rem + env(safe-area-inset-bottom)) !important;
    z-index: 10;
  }
}

/* Tăng padding-bottom cho iPhone 12 Pro Max */
@media only screen 
  and (device-width: 428px) 
  and (device-height: 926px) 
  and (-webkit-device-pixel-ratio: 3) {
  .result-panel_true,
  .result-panel_false {
    padding-bottom: calc(1rem + env(safe-area-inset-bottom) + 2rem) !important;
  }
  
  /* Điều chỉnh nút thu gọn cho iPhone 12 Pro Max */
  .displayBtn {
    right: 1rem !important;
    bottom: calc(24rem + env(safe-area-inset-bottom)) !important;
    z-index: 999    
  
  }
  
  .displayBtnEnglish {
    right: 1rem !important;
    bottom: calc(22rem + env(safe-area-inset-bottom)) !important;
    z-index: 10;
  }
  
  .hiddenBtn {
    right: 1rem !important;
    bottom: calc(8.5rem + env(safe-area-inset-bottom)) !important;
    z-index: 10;
  }
  
}


.panel-collapsed_false {
  @apply relative w-full bg-red-600 min-h-[100px] flex items-center justify-center;
}
.btn-toggle {
  @apply rounded-full border border-stone-50 text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold w-10 h-10 sm:w-12 sm:h-12 md:w-13 md:h-13 lg:w-15 lg:h-15 transition hover:opacity-[90%];
  /* Tăng kích thước và touch target cho iPhone */
  min-width: 44px;
  min-height: 44px;
  touch-action: manipulation;
}
.btn-toggle--green {
  @apply bg-green-600 text-stone-50 ;
}
.btn-toggle--red {
  @apply bg-red-400 text-stone-50 ;
}
.btn-audio {
  @apply w-10 h-10 sm:w-12 sm:h-12 md:w-13 md:h-13 lg:w-15 lg:h-15 flex items-center justify-center bg-slate-50 rounded-full cursor-pointer hover:opacity-80 transition;
}
.btn-eye {
  @apply ml-2 mt-1 text-stone-50 hover:opacity-80 transition;
}
.displayBtn{
  @apply absolute bottom-94 right-10;
}
.hiddenBtn{
  @apply absolute bottom-33 right-10;
}
.btn-primary--check{
  @apply bg-green-600 text-stone-50 hover:bg-green-700 border-green-700 text-lg sm:text-xl md:text-2xl font-semibold h-12 sm:h-14 md:h-16;
} 
.scrollbar-hide {
    scrollbar-width: none; /* Firefox */
  }


.displayBtnEnglish{
  @apply absolute bottom-86 right-10;
}